As of Date: 2023-09-20
Running configuration based on config file: 7
Current version: 1.0

 Solution to Question 1.1. 
Data acquisition solution: Download 
Data Location ./data/instrument/fixed_income_instruments_20230920.csv
Sample Instruments: 
        cusip                  issuer bond_type  face_value  ...  maturity_date  last_price adtv rating
0  01609WAJ1  ALIBABA GROUP HLDG LTD      CORP         100  ...     2034-11-28   88.862567   35      A
1  037833BA7          Apple Inc AAPL      CORP         100  ...     2045-02-09   77.689694   85     AA
2  931142CM3         Walmart Inc WMT      CORP         100  ...     2038-04-15  138.650000    5     AA
3  912797HC4      U.S. Treasury 10Yr       UST         100  ...     2033-08-15   96.335771  100    AAA
4  912797JA6       U.S. Treasury 5Yr       UST         100  ...     2028-08-31   99.415514  125    AAA

[5 rows x 11 columns]

 Solution to Question 1.2.
Initiate yield curve table setup given fist time run, 
Database Solution is SQLite, 
SQLite Database location is ./data/quant_risk_database.db, 
Yield data are stored in table name: yield_curves

 Solution to Question 1.3.
Current Run Purpose is for: all
Yield data from ['2023-03-21', '2023-09-20'] are retrieved for 037833BA7 
            tenor  yield_to_maturity instrument
date                                          
2023-09-20  None             0.0521  037833BA7
2023-09-19  None             0.0521  037833BA7
2023-09-18  None             0.0510  037833BA7
2023-09-15  None             0.0512  037833BA7
2023-09-14  None             0.0511  037833BA7
...          ...                ...        ...
2023-03-27  None             0.0468  037833BA7
2023-03-24  None             0.0458  037833BA7
2023-03-23  None             0.0456  037833BA7
2023-03-22  None             0.0461  037833BA7
2023-03-21  None             0.0470  037833BA7

[131 rows x 3 columns]
Retrieved yield data is saved under ./output/retrieved_yield_data.csv

 Solution to Question 2.1.
Portfolio Snapshot with total initial fund of 1000000.0: 
        cusip                  issuer    weight     quantity   market_value
0  01609WAJ1  ALIBABA GROUP HLDG LTD  0.105663  1189.056475  105662.610338
1  037833BA7          Apple Inc AAPL  0.093495  1203.435725   93494.553813
2  931142CM3         Walmart Inc WMT  0.305608  2204.172211  305608.477066
3  912797HC4      U.S. Treasury 10Yr  0.233547  2424.297895  233546.607844
4  912797JA6       U.S. Treasury 5Yr  0.261688  2632.262725  261687.750939

 Solution to Question 2.2.
Summary report of portfolio yield 
        Portfolio Yield Summary Report:
        ------------------------
        Date Range: 2021-09-20 to 2023-09-20
        Highest Monthly Yield: 1.8984% on 2023-01-20
        Lowest Monthly Yield: -9.7985% on 2022-04-20
        Total Portfolio Value at the Start: $1,315,854.56
        Total Portfolio Value at the End: $1,000,007.60
        Portfolio Appreciation/Depreciation: -24.00%
        ------------------------
         

portfolio_daily_yield_report successfully saved to ./output/portfolio_daily_yield_report_20210920_to_20230920_config7.csv

 Enhancement to Q2 
 Sample Cashflow Report: 
    cashflow_date  cashflow_amount  corresponding_zero_rate
0     2023-11-28      5350.754136                 0.055673
1     2024-05-28      5350.754136                 0.054950
2     2024-11-28      5350.754136                 0.054029
3     2025-05-28      5350.754136                 0.052293
4     2025-11-28      5350.754136                 0.050625
5     2026-05-28      5350.754136                 0.049137
6     2026-11-28      5350.754136                 0.047912
7     2027-05-28      5350.754136                 0.047168
8     2027-11-28      5350.754136                 0.046412
9     2028-05-28      5350.754136                 0.045664
10    2028-11-28      5350.754136                 0.045142
11    2029-05-28      5350.754136                 0.044993
12    2029-11-28      5350.754136                 0.044842
13    2030-05-28      5350.754136                 0.044693
14    2030-11-28      5350.754136                 0.044529
15    2031-05-28      5350.754136                 0.044347
16    2031-11-28      5350.754136                 0.044162
17    2032-05-28      5350.754136                 0.043979
18    2032-11-28      5350.754136                 0.043794
19    2033-05-28      5350.754136                 0.043613
20    2033-11-28      5350.754136                 0.043543
21    2034-05-28      5350.754136                 0.043652
22    2034-11-28      5350.754136                 0.043763
23    2034-11-28    118905.647467                 0.043763
cashflow_report successfully saved to ./output/cashflow_report_20230920_config7.csv

 Solution to 4.1 
 Sample DV01 Report: 
    as_of_date      cusip                  issuer  coupon_rate  ... modified_duration      dv01   convexity      cr01
0  2023-09-20  01609WAJ1  ALIBABA GROUP HLDG LTD      0.04500  ...          8.403362 -0.074674   86.025049 -0.006197
1  2023-09-20  037833BA7          Apple Inc AAPL      0.03450  ...         13.910097 -0.108067  251.568520 -0.003663
2  2023-09-20  931142CM3         Walmart Inc WMT      0.06200  ...         10.191416 -0.141304  132.564156 -0.013980
3  2023-09-20  912797HC4      U.S. Treasury 10Yr      0.03875  ...          7.829648 -0.075428   37.880536 -0.005167
4  2023-09-20  912797JA6       U.S. Treasury 5Yr      0.04375  ...          4.039237 -0.040156    5.904306 -0.003442

[5 rows x 11 columns]
Solution to 3.1 and 3.2
Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: full_revaluation 
Pricing model: ytm 
Loss calculation approach: var_type 
1-day var_type at 95 percentile 
Final Result = -10055.56 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: full_revaluation 
Pricing model: ytm 
Loss calculation approach: var_type 
1-day var_type at 99 percentile 
Final Result = -14393.85 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: full_revaluation 
Pricing model: ytm 
Loss calculation approach: var_type 
10-day var_type at 95 percentile 
Final Result = -13003.59 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: full_revaluation 
Pricing model: ytm 
Loss calculation approach: var_type 
10-day var_type at 99 percentile 
Final Result = -19915.86 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: full_revaluation 
Pricing model: ytm 
Loss calculation approach: expected_shortfall 
10-day expected_shortfall at 99 percentile 
Final Result = -21535.82 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: full_revaluation 
Pricing model: ytm 
Loss calculation approach: expected_shortfall 
10-day expected_shortfall at 95 percentile 
Final Result = -17520.17 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: sensitivity_approximation 
Pricing model: ytm 
Loss calculation approach: var_type 
10-day var_type at 95 percentile 
Final Result = -30687.55 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: historical 
Valuation approach: sensitivity_approximation 
Pricing model: ytm 
Loss calculation approach: var_type 
10-day var_type at 99 percentile 
Final Result = -41982.15 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: monte_carlo 
Valuation approach: sensitivity_approximation 
Pricing model: ytm 
Loss calculation approach: var_type 
10-day var_type at 95 percentile 
Final Result = -49505.8 

Running Risk Engine using Model Configuration as below 
Risk Metric: var 
Scenario generation approach: monte_carlo 
Valuation approach: sensitivity_approximation 
Pricing model: ytm 
Loss calculation approach: var_type 
10-day var_type at 99 percentile 
Final Result = -69305.89 

scenario_loss_pnl_vector successfully saved to ./output/scenario_loss_pnl_vector_report_20230920_config7.csv
High Level Risk Report 
       Risk Metric      Scenario Approach                Model Selection           Model Parameter        pnl
0             var             historical           full_revaluation^ytm             var_type^1^95  -10055.56
1             var             historical           full_revaluation^ytm             var_type^1^99  -14393.85
2             var             historical           full_revaluation^ytm            var_type^10^95  -13003.59
3             var             historical           full_revaluation^ytm            var_type^10^99  -19915.86
4             var             historical           full_revaluation^ytm  expected_shortfall^10^99  -21535.82
5             var             historical           full_revaluation^ytm  expected_shortfall^10^95  -17520.17
6             var             historical  sensitivity_approximation^ytm            var_type^10^95  -30687.55
7             var             historical  sensitivity_approximation^ytm            var_type^10^99  -41982.15
8             var            monte_carlo  sensitivity_approximation^ytm            var_type^10^95  -49505.80
9             var            monte_carlo  sensitivity_approximation^ytm            var_type^10^99  -69305.89
0  stress_testing  financial_crisis_2008    full_revaluation^zero_curve                      None -129673.95
1  stress_testing        oil_crisis_1974    full_revaluation^zero_curve                      None -151091.05
risk_summary_report successfully saved to ./output/risk_summary_report_20230920_config7.csv
portfolio_report successfully saved to ./output/portfolio_report_20230920_config7.csv
